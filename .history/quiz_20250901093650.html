<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Quiz - SecureBank Junior</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
    <script>
        (function () {
            // Initialize googletag if not already defined
            window.googletag = window.googletag || { cmd: [] };

            // Ad slot variables
            let adSlot1, adSlot2, anchorSlot;
            const refreshInterval = 30000; // 30 seconds - more user-friendly refresh rate
            let refreshTimer;

            // Function to set up ads
            function setupAds() {
                googletag.cmd.push(function () {
                    // Setup PubAds
                    const pubads = googletag.pubads();
                    pubads.enableSingleRequest();
                    pubads.setCentering(true);

                    // Apply geotargeting if available
                    if (window.geoTarget) {
                        pubads.setLocation(window.geoTarget);
                    }

                    // Define Ad Slots with consistent IDs
                    adSlot1 = googletag.defineSlot(
                        '/22792691312,23308311652/web_nurcodes.com_display_banner_0',
                        [[300, 250], [320, 480], [250, 250], [300, 100], 'fluid', [336, 280]],
                        'ad-slot-1'
                    ).addService(pubads);

                    adSlot2 = googletag.defineSlot(
                        '/22792691312,23308311652/web_nurcodes.com_display_banner_1',
                        [[300, 250], [320, 480], [250, 250], [300, 100], 'fluid', [336, 280]],
                        'ad-slot-2'
                    ).addService(pubads);

                    // Define anchor ad with proper ID
                    anchorSlot = googletag.defineOutOfPageSlot(
                        '/22792691312,23308311652/web_nurcodes.com_display_banner_2',
                        googletag.enums.OutOfPageFormat.BOTTOM_ANCHOR
                    );

                    if (anchorSlot) {
                        anchorSlot.addService(pubads);
                        // Use the correct ID for the anchor ad
                        anchorSlot.setElementId('ad-anchor-slot');
                    }

                    // Event listeners for ad loading
                    pubads.addEventListener('slotRenderEnded', function (event) {
                        // Handle ad render events if needed
                        const slotId = event.slot.getSlotElementId();
                        const isEmpty = event.isEmpty;

                        // Example: hide containers with no ads
                        if (isEmpty && document.getElementById(slotId)) {
                            document.getElementById(slotId).style.display = 'none';
                        }
                    });

                    // Enable services
                    googletag.enableServices();

                    // Display ads
                    try {
                        if (document.getElementById('ad-slot-1')) {
                            googletag.display('ad-slot-1');
                        }
                        if (document.getElementById('ad-slot-2')) {
                            googletag.display('ad-slot-2');
                        }
                        if (document.getElementById('ad-anchor-slot')) {
                            googletag.display('ad-anchor-slot');
                        }
                    } catch (error) {
                        console.log('Error displaying ads:', error);
                    }

                    // Set up periodic refresh with error handling
                    setupAdRefresh();
                });
            }

            // Function to handle ad refresh
            function setupAdRefresh() {
                if (refreshTimer) {
                    clearInterval(refreshTimer);
                }

                refreshTimer = setInterval(function () {
                    try {
                        // Only refresh if slots exist and are defined
                        const slotsToRefresh = [];
                        if (adSlot1) slotsToRefresh.push(adSlot1);
                        if (adSlot2) slotsToRefresh.push(adSlot2);

                        if (slotsToRefresh.length > 0) {
                            googletag.cmd.push(function () {
                                googletag.pubads().refresh(slotsToRefresh);
                            });
                        }
                    } catch (error) {
                        console.log('Error refreshing ads:', error);
                        clearInterval(refreshTimer); // Stop trying on persistent errors
                    }
                }, refreshInterval);
            }

            // Check for ad blockers (simple detection)
            function checkAdBlocker() {
                const testAd = document.createElement('div');
                testAd.innerHTML = '&nbsp;';
                testAd.className = 'adsbox';
                document.body.appendChild(testAd);

                setTimeout(function () {
                    if (testAd.offsetHeight === 0) {
                        console.log('Ad blocker detected');
                        // You can show a message to users or implement fallback content
                    }
                    document.body.removeChild(testAd);
                }, 100);
            }

            // Initialize ads when DOM is ready
            if (document.readyState === 'complete' || document.readyState === 'interactive') {
                setupAds();
                checkAdBlocker();
            } else {
                document.addEventListener('DOMContentLoaded', function () {
                    setupAds();
                    checkAdBlocker();
                });
            }

            // Clean up on page unload
            window.addEventListener('beforeunload', function () {
                if (refreshTimer) {
                    clearInterval(refreshTimer);
                }
            });
        })();

    </script>

    <style>
        #banner-ad {
            width: 100%;
            max-width: 425px;
            margin: 1rem auto 0.5rem;
            padding: 0.5rem;
            box-shadow: 0 4px 15px var(--shadow-dark);
            border-radius: 8px;
            position: relative;
            text-align: center;
            border: 1px solid var(--accent-gold);
        }

        #banner-ad::before {
            content: "Advertisement";
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            font-weight: 500;
            color: var(--accent-gold);
            background: var(--primary-dark);
            padding: 0 8px;
            border-radius: 4px;
            border: 1px solid var(--accent-gold);
        }

        .ad-divider {
            width: 90%;
            max-width: 425px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent-gold), transparent);
            margin: 0.5rem auto;
        }
    </style>



    <style>
        :root {
            --primary-blue: #1a4f8c;
            --secondary-blue: #2c6cb0;
            --accent-teal: #0ea5e9;
            --accent-green: #10b981;
            --accent-purple: #8b5cf6;
            --accent-pink: #ec4899;
            --dark-blue: #1e293b;
            --light-gray: #f8fafc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f1f5f9;
            color: #334155;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 25px 0;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .content-section {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .action-btn {
            display: block;
            padding: 18px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            font-size: 18px;
            margin: 20px 0;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border: none;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .category-btn {
            display: inline-block;
            padding: 15px 25px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            margin: 10px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            width: calc(100% - 20px);
        }

        @media (min-width: 768px) {
            .category-btn {
                width: calc(50% - 20px);
            }
        }

        .category-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .quiz-container {
            background: #f8fafc;
            padding: 25px;
            border-radius: 16px;
            margin: 20px 0;
            position: relative;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-bar {
            height: 12px;
            background: #e2e8f0;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-teal);
            border-radius: 6px;
            transition: width 0.5s ease;
        }

        .question-number {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 5px;
        }

        .quiz-question {
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--dark-blue);
            font-size: 20px;
        }

        .quiz-option {
            display: block;
            padding: 15px;
            margin-bottom: 12px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .quiz-option:hover {
            border-color: var(--accent-teal);
            background: #f0f9ff;
        }

        .quiz-option.selected {
            background: #dbeafe;
            border-color: var(--primary-blue);
        }

        .quiz-option.correct {
            background: #dcfce7;
            border-color: var(--accent-green);
        }

        .quiz-option.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
        }

        .feedback-container {
            padding: 15px;
            border-radius: 12px;
            margin-top: 20px;
            display: none;
        }

        .feedback-correct {
            background: #dcfce7;
            color: #166534;
            border-left: 4px solid var(--accent-green);
        }

        .feedback-incorrect {
            background: #fef3c7;
            color: #92400e;
            border-left: 4px solid #f59e0b;
        }

        .next-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            margin-top: 20px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .next-btn:hover {
            background: var(--secondary-blue);
        }

        .results-container {
            text-align: center;
            padding: 30px;
        }

        .score-display {
            font-size: 48px;
            font-weight: 700;
            color: var(--primary-blue);
            margin: 20px 0;
        }

        .score-text {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--dark-blue);
        }

        .badge-earned {
            font-size: 80px;
            margin: 20px 0;
            color: gold;
        }

        .gamification-badge {
            display: inline-block;
            padding: 10px 20px;
            background: var(--accent-green);
            color: white;
            border-radius: 20px;
            font-size: 16px;
            font-weight: 600;
            margin: 10px;
        }

        .category-selector {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }

        .animation-container {
            text-align: center;
            margin: 20px 0;
        }

        .coin-animation {
            font-size: 48px;
            color: var(--accent-teal);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        .countdown {
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-teal);
            text-align: center;
            margin: 10px 0;
        }

        .timer-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-blue);
            border: 3px solid var(--accent-teal);
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
                <div
                    style="width: 50px; height: 50px; border-radius: 12px; background: var(--primary-blue); display: flex; align-items: center; justify-content: center; margin-right: 10px;">
                    <i class="fas fa-piggy-bank text-white" style="font-size: 24px;"></i>
                </div>
                <h1 style="font-size: 24px; font-weight: 700; color: var(--primary-blue);">SecureBank Junior</h1>
            </div>
            <p style="color: var(--dark-blue); font-size: 16px;">Test Your Financial Knowledge</p>
        </div>
        <!-- ads  -->
        <div id="banner-ad" class="ads-box" style="min-height: 250px;">
            <div id="ad-slot-1" class="ad-container" style="display: block !important;"></div>
        </div>
        <!-- Category Selection -->
        <div id="category-selection" class="content-section">
            <h2
                style="font-size: 24px; font-weight: 700; text-align: center; margin-bottom: 20px; color: var(--dark-blue);">
                Choose a Quiz Category
            </h2>

            <p style="color: #64748b; text-align: center; margin-bottom: 30px;">
                Select one of our fun financial education categories to test your knowledge and earn badges!
            </p>

            <div class="category-selector">
                <button class="category-btn" onclick="selectCategory('saving')"
                    style="background: linear-gradient(to right, var(--primary-blue), var(--secondary-blue)); color: white;">
                    <i class="fas fa-piggy-bank" style="margin-right: 10px;"></i>
                    Saving Money
                </button>

                <button class="category-btn" onclick="selectCategory('budgeting')"
                    style="background: linear-gradient(to right, var(--accent-teal), #38bdf8); color: white;">
                    <i class="fas fa-money-bill-wave" style="margin-right: 10px;"></i>
                    Budgeting
                </button>

                <button class="category-btn" onclick="selectCategory('spending')"
                    style="background: linear-gradient(to right, var(--accent-green), #34d399); color: white;">
                    <i class="fas fa-shopping-cart" style="margin-right: 10px;"></i>
                    Smart Spending
                </button>
            </div>

            <div class="animation-container">
                <div class="coin-animation">
                    <i class="fas fa-coins"></i>
                </div>
            </div>
        </div>

        <!-- Quiz Container (initially hidden) -->
        <div id="quiz-section" class="content-section" style="display: none;">
            <div class="progress-container">
                <div class="question-number">Question <span id="current-question">1</span> of <span
                        id="total-questions">5</span></div>
                <div class="progress-bar">
                    <div class="progress-fill" id="quiz-progress" style="width: 20%;"></div>
                </div>
            </div>

            <div class="quiz-container">
                <h2 class="quiz-question" id="question-text">What is the best reason to save money?</h2>

                <div id="options-container">
                    <label class="quiz-option">
                        <input type="radio" name="quiz-answer" value="A">
                        <span>To have money for future needs and wants</span>
                    </label>

                    <label class="quiz-option">
                        <input type="radio" name="quiz-answer" value="B">
                        <span>To keep it hidden under your mattress</span>
                    </label>

                    <label class="quiz-option">
                        <input type="radio" name="quiz-answer" value="C">
                        <span>To spend it all immediately</span>
                    </label>

                    <label class="quiz-option">
                        <input type="radio" name="quiz-answer" value="D">
                        <span>To show off to your friends</span>
                    </label>
                </div>

                <div id="feedback" class="feedback-container">
                    <p id="feedback-text"></p>
                </div>

                <button id="next-button" class="next-btn" onclick="nextQuestion()">Next Question</button>
            </div>

            <div class="countdown">
                <p>Time until next question:</p>
                <div class="timer-circle">
                    <span id="countdown-timer">5</span>
                </div>
            </div>
        </div>

        <!-- Results Section (initially hidden) -->
        <div id="results-section" class="content-section" style="display: none;">
            <div class="results-container">
                <h2 style="font-size: 28px; font-weight: 700; margin-bottom: 15px; color: var(--dark-blue);">Quiz
                    Complete!</h2>

                <div class="score-display" id="final-score">4/5</div>
                <div class="score-text" id="score-message">Great job! You're a financial whiz!</div>

                <div class="badge-earned">
                    <i class="fas fa-trophy"></i>
                </div>

                <h3 style="font-size: 20px; margin: 25px 0 15px; color: var(--dark-blue);">Badges Earned</h3>

                <div class="gamification-badge" style="background: var(--accent-green);">
                    <i class="fas fa-award"></i> Savings Star
                </div>

                <div class="gamification-badge" style="background: var(--primary-blue);">
                    <i class="fas fa-medal"></i> Quiz Master
                </div>

                <button class="action-btn" onclick="resetQuiz()" style="background: var(--accent-teal); color: white;">
                    <i class="fas fa-redo" style="margin-right: 10px;"></i>
                    Try Another Quiz
                </button>
            </div>
        </div>
    </div>
    <!-- ads units  -->

    <div id="banner-ad" class="ads-box" style="min-height: 250px;">
        <div id="ad-slot-2" class="ad-container" style="display: block !important;"></div>
    </div>

    <script>
        // Quiz data for different categories
        const quizData = {
            saving: [
                {
                    question: "What is the best reason to save money?",
                    options: [
                        "To have money for future needs and wants",
                        "To keep it hidden under your mattress",
                        "To spend it all immediately",
                        "To show off to your friends"
                    ],
                    correctAnswer: "A",
                    explanation: "Saving money helps you prepare for future needs and wants, and it's an important habit to develop."
                },
                {
                    question: "Which of these is a good saving strategy?",
                    options: [
                        "Spend all your money as soon as you get it",
                        "Set aside a portion of your allowance regularly",
                        "Only save money when you want something expensive",
                        "Borrow money instead of saving"
                    ],
                    correctAnswer: "B",
                    explanation: "Setting aside a portion of your allowance regularly helps you build savings consistently."
                },
                {
                    question: "What is interest in the context of saving?",
                    options: [
                        "A fee banks charge you",
                        "Money the bank pays you for keeping your money with them",
                        "Something that makes saving boring",
                        "A type of savings account"
                    ],
                    correctAnswer: "B",
                    explanation: "Interest is money that financial institutions pay you for keeping your funds in their accounts."
                },
                {
                    question: "Why is it important to have an emergency fund?",
                    options: [
                        "To impress your friends",
                        "For unexpected expenses like repairs or medical bills",
                        "Because your parents told you to",
                        "To avoid paying taxes"
                    ],
                    correctAnswer: "B",
                    explanation: "An emergency fund helps you handle unexpected expenses without going into debt."
                },
                {
                    question: "What does 'pay yourself first' mean?",
                    options: [
                        "Buy yourself something nice before paying bills",
                        "Set aside savings before spending on other things",
                        "Take your entire paycheck in cash",
                        "Work overtime to earn more money"
                    ],
                    correctAnswer: "B",
                    explanation: "'Pay yourself first' means prioritizing saving by setting aside money before spending on other expenses."
                }
            ],
            budgeting: [
                {
                    question: "What is a budget?",
                    options: [
                        "A type of bank account",
                        "A plan for how to spend your money",
                        "Something only adults need",
                        "A restriction on spending"
                    ],
                    correctAnswer: "B",
                    explanation: "A budget is a plan that helps you decide how to spend your money wisely."
                },
                {
                    question: "Which of these is a benefit of budgeting?",
                    options: [
                        "It limits your freedom",
                        "It helps you avoid spending money on fun things",
                        "It ensures you have money for important expenses",
                        "It makes you rich quickly"
                    ],
                    correctAnswer: "C",
                    explanation: "Budgeting helps ensure you have money for important expenses while still allowing for fun purchases."
                },
                {
                    question: "What's the 50/30/20 rule?",
                    options: [
                        "A rule for dividing your money between spending, saving, and sharing",
                        "A math equation",
                        "A game about money",
                        "A law about banking"
                    ],
                    correctAnswer: "A",
                    explanation: "The 50/30/20 rule suggests dividing your money: 50% for needs, 30% for wants, and 20% for savings."
                },
                {
                    question: "Why should you track your expenses?",
                    options: [
                        "To make budgeting more complicated",
                        "To see where your money is actually going",
                        "Because your parents told you to",
                        "To show off to friends"
                    ],
                    correctAnswer: "B",
                    explanation: "Tracking expenses helps you understand your spending patterns and make better budgeting decisions."
                },
                {
                    question: "What is a need versus a want?",
                    options: [
                        "A need is essential, a want is something you'd like to have",
                        "They are the same thing",
                        "A want is essential, a need is optional",
                        "Needs are for adults, wants are for kids"
                    ],
                    correctAnswer: "A",
                    explanation: "Needs are essential for survival (food, shelter), while wants are things you desire but can live without."
                }
            ],
            spending: [
                {
                    question: "What is comparison shopping?",
                    options: [
                        "Buying everything you see",
                        "Looking at different products and prices before buying",
                        "Shopping with friends",
                        "Only buying the most expensive items"
                    ],
                    correctAnswer: "B",
                    explanation: "Comparison shopping means looking at different options and prices to make the best choice."
                },
                {
                    question: "Why is impulse buying usually a bad idea?",
                    options: [
                        "It's always more expensive",
                        "It often leads to buying things you don't really need or want",
                        "Stores don't like it",
                        "It makes you spend slower"
                    ],
                    correctAnswer: "B",
                    explanation: "Impulse buying often results in purchases you later regret or don't actually need."
                },
                {
                    question: "What does 'value for money' mean?",
                    options: [
                        "Buying the cheapest item available",
                        "Getting good quality for the price you pay",
                        "Spending all your money at once",
                        "Only buying expensive items"
                    ],
                    correctAnswer: "B",
                    explanation: "'Value for money' means getting good quality and satisfaction relative to the price you pay."
                },
                {
                    question: "What is a good strategy to avoid overspending?",
                    options: [
                        "Never go shopping",
                        "Make a shopping list and stick to it",
                        "Only shop when you're sad",
                        "Bring all your money everywhere"
                    ],
                    correctAnswer: "B",
                    explanation: "Making a list before shopping helps you focus on what you need and avoid impulse purchases."
                },
                {
                    question: "Why should you check product reviews before buying?",
                    options: [
                        "To waste time",
                        "To learn about the product's quality from other users",
                        "Because the store requires it",
                        "To make shopping take longer"
                    ],
                    correctAnswer: "B",
                    explanation: "Product reviews give you insights from other customers about the quality and performance of items."
                }
            ]
        };

        // Quiz state variables
        let currentCategory = '';
        let currentQuestionIndex = 0;
        let score = 0;
        let countdownTimer;
        let timeLeft = 5;

        // DOM elements
        const categorySelection = document.getElementById('category-selection');
        const quizSection = document.getElementById('quiz-section');
        const resultsSection = document.getElementById('results-section');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackContainer = document.getElementById('feedback');
        const feedbackText = document.getElementById('feedback-text');
        const nextButton = document.getElementById('next-button');
        const currentQuestionElement = document.getElementById('current-question');
        const totalQuestionsElement = document.getElementById('total-questions');
        const quizProgress = document.getElementById('quiz-progress');
        const countdownTimerElement = document.getElementById('countdown-timer');

        // Select a quiz category
        function selectCategory(category) {
            currentCategory = category;
            categorySelection.style.display = 'none';
            quizSection.style.display = 'block';

            // Initialize quiz
            currentQuestionIndex = 0;
            score = 0;
            loadQuestion();
        }

        // Load the current question
        function loadQuestion() {
            const question = quizData[currentCategory][currentQuestionIndex];

            // Update progress
            currentQuestionElement.textContent = currentQuestionIndex + 1;
            totalQuestionsElement.textContent = quizData[currentCategory].length;
            quizProgress.style.width = `${((currentQuestionIndex + 1) / quizData[currentCategory].length) * 100}%`;

            // Set question text
            questionText.textContent = question.question;

            // Clear options container
            optionsContainer.innerHTML = '';

            // Add options
            const optionLetters = ['A', 'B', 'C', 'D'];
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('label');
                optionElement.className = 'quiz-option';
                optionElement.innerHTML = `
                    <input type="radio" name="quiz-answer" value="${optionLetters[index]}">
                    <span>${option}</span>
                `;
                optionElement.addEventListener('click', selectOption);
                optionsContainer.appendChild(optionElement);
            });

            // Reset UI state
            feedbackContainer.style.display = 'none';
            nextButton.disabled = true;
            timeLeft = 5;
            countdownTimerElement.textContent = timeLeft;

            // Clear any existing timer
            if (countdownTimer) clearInterval(countdownTimer);

            // Start countdown for auto-advance
            countdownTimer = setInterval(updateCountdown, 1000);
        }

        // Update the countdown timer
        function updateCountdown() {
            timeLeft--;
            countdownTimerElement.textContent = timeLeft;

            if (timeLeft <= 0) {
                clearInterval(countdownTimer);
                // Auto-advance if no option selected
                if (!document.querySelector('input[name="quiz-answer"]:checked')) {
                    nextQuestion();
                }
            }
        }

        // Handle option selection
        function selectOption(event) {
            // Only react if the radio input itself wasn't clicked
            if (event.target.tagName !== 'INPUT') {
                const radioInput = this.querySelector('input');
                radioInput.checked = true;
            }

            // Clear the countdown timer
            clearInterval(countdownTimer);

            // Get selected value
            const selectedOption = document.querySelector('input[name="quiz-answer"]:checked').value;
            const correctAnswer = quizData[currentCategory][currentQuestionIndex].correctAnswer;

            // Mark correct and incorrect answers
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => {
                const optionValue = option.querySelector('input').value;
                if (optionValue === correctAnswer) {
                    option.classList.add('correct');
                } else if (optionValue === selectedOption && selectedOption !== correctAnswer) {
                    option.classList.add('incorrect');
                }
            });

            // Check if answer is correct
            if (selectedOption === correctAnswer) {
                score++;
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackText.innerHTML = `<strong>Correct!</strong> 🎉 ${quizData[currentCategory][currentQuestionIndex].explanation}`;
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackText.innerHTML = `<strong>Incorrect.</strong> 😊 ${quizData[currentCategory][currentQuestionIndex].explanation}`;
            }

            // Show feedback
            feedbackContainer.style.display = 'block';

            // Enable next button
            nextButton.disabled = false;
        }

        // Move to the next question
        function nextQuestion() {
            // Clear any existing timer
            if (countdownTimer) clearInterval(countdownTimer);

            currentQuestionIndex++;

            if (currentQuestionIndex < quizData[currentCategory].length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        // Show the quiz results
        function showResults() {
            quizSection.style.display = 'none';
            resultsSection.style.display = 'block';

            const finalScoreElement = document.getElementById('final-score');
            const scoreMessageElement = document.getElementById('score-message');

            // Set score
            finalScoreElement.textContent = `${score}/${quizData[currentCategory].length}`;

            // Set message based on score
            if (score === quizData[currentCategory].length) {
                scoreMessageElement.textContent = "Perfect! You're a financial expert!";
            } else if (score >= quizData[currentCategory].length * 0.7) {
                scoreMessageElement.textContent = "Great job! You have strong financial knowledge!";
            } else if (score >= quizData[currentCategory].length * 0.5) {
                scoreMessageElement.textContent = "Good effort! Keep learning about money management!";
            } else {
                scoreMessageElement.textContent = "Keep practicing! Financial knowledge grows over time!";
            }
        }

        // Reset the quiz to category selection
        function resetQuiz() {
            resultsSection.style.display = 'none';
            categorySelection.style.display = 'block';
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            // Add event listeners to options
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => {
                option.addEventListener('click', selectOption);
            });
        });
    </script>


    <!-- ads  -->
    <div id="ad-anchor-slot"></div>

    <script>
        // Disable right-click
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
            alert('Right-click is disabled to protect our content.');
        });

        // Disable keyboard shortcuts
        document.onkeydown = function (e) {
            if (
                (e.ctrlKey && (e.key === 'u' || e.key === 's' || e.key === 'c' || e.key === 'i' || e.key === 'j')) ||
                e.key === 'F12' ||
                (e.metaKey && e.altKey && e.key === 'i')
            ) {
                e.preventDefault();
                alert('Access to developer tools and source code is disabled to protect our content.');
                return false;
            }
            return true;
        };

        // Disable text selection
        document.addEventListener('selectstart', function (e) {
            e.preventDefault();
        });

        // Disable drag and drop
        document.addEventListener('dragstart', function (e) {
            e.preventDefault();
        });
    </script>

    <script>
        window.googletag = window.googletag || { cmd: [] };
        var anchorSlot;
        googletag.cmd.push(function () {
            anchorSlot = googletag.defineOutOfPageSlot('/22792691312,23308311652/web_nurcodes.com_display_banner_2', googletag.enums.OutOfPageFormat.BOTTOM_ANCHOR);
            if (anchorSlot) {
                anchorSlot.addService(googletag.pubads());
            }
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>

    <script>
        (function () {
            document.addEventListener("DOMContentLoaded", function () {
                console.log("DOM fully loaded.");

                function showRewardedAd() {
                    if (!window.googletag || !googletag.cmd) {
                        console.error("Google Ad Manager is not properly initialized.");
                        return;
                    }
                    // reward ads
                    googletag.cmd.push(function () {
                        try {
                            const rewardedSlot = googletag
                                .defineOutOfPageSlot('/22792691312,23308311652/web_nurcodes.com_display_banner_3', googletag.enums.OutOfPageFormat.REWARDED)
                                .addService(googletag.pubads());

                            googletag.enableServices();
                            googletag.display(rewardedSlot);
                            console.log("Attempting to display rewarded ad...");

                            googletag.pubads().addEventListener("rewardedSlotReady", function (evt) {
                                console.log("Rewarded ad ready.");
                                evt.makeRewardedVisible();
                            });

                            googletag.pubads().addEventListener("rewardedSlotClosed", function () {
                                console.log("Ad closed.");
                                googletag.destroySlots([rewardedSlot]);
                            });
                        } catch (error) {
                            console.error("Error during ad setup:", error);
                        }
                    });
                }

                // Add 2-second delay before showing the rewarded ad
                setTimeout(function () {
                    console.log("2 seconds elapsed, showing rewarded ad...");
                    showRewardedAd();
                }, 2000); // 2000 milliseconds = 2 seconds
            });
        })();
    </script>

</body>

</html>